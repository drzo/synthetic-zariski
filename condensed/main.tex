% latexmk -pdf -pvc main.tex
\documentclass{../util/zariski-small}


\title{Synthetic Stone Duality}

\begin{document}

\author{Felix Cherubini, Thierry Coquand and Freek Geerligs}

\maketitle

%\begin{abstract}
%In synthetic algebraic geometry (SAG) \cite{draft}, we study finitely presented algebras over a commutative ring. 
%In this work, we study countably presented Boolean algebras instead. 
%Where the finitely presented algebras over a commutative ring induce a Zariski topos, 
%%the opposite category of these 
%the countably presented Boolean algebras induce the topos of light condensed sets \cite{Scholze}. 
%\cite{draft} proposes an axiomatization of the Zariski topos in univalent homotopy type theory \cite{hott}. 
%In this work, we propose similar axioms, which we expect to be modelled by light condensed sets. 
%% Furthermore, spectra of countably presented Boolean algebras correspond to quotients of Cantor space
%% which is cool because reasons
%\end{abstract} 
%
\rednote{The following is a collection of notes on work in progress.}
\section{Countably presented Boolean algebras}
\subsection{Definitions}
\begin{definition}
  The language of Boolean algebras consists of
  \begin{itemize}
    \item Two symbols for constants $0,1$. 
    \item Two binary function symbols $\wedge, \vee$.
    \item One unary function symbol $\neg$. 
  \end{itemize}
\end{definition}
\begin{definition}
  The algebraic theory of Boolean algebras is as follows:
  \begin{itemize}
    \item We have axioms regarding order, sometimes called identity and absorption:
    \begin{itemize}
      \item $0 \wedge a = 0$. 
      \item $1 \wedge a = a$. 
      \item $0 \vee a = a$. 
      \item $1 \vee a = 1$. 
      \item $a \vee (a \wedge b) = a$
      \item $a \wedge (a \vee b) = a$. 
    \end{itemize}
    \item We have axioms regarding negations:
      \begin{itemize}
        \item $a \vee \neg a = 1$. 
        \item $a \wedge \neg a = 0$. 
        \item $\neg 1 = 0$. 
        \item $\neg \neg a = a$. 
      \end{itemize}
    \item We have axioms regarding commutativity and associativity:
      \begin{itemize}
        \item $a \vee b = b \vee a$. 
        \item $a \wedge b = b \wedge a$. 
        \item $(a \vee b) \vee c = a \vee (b \vee c)$. 
        \item $(a \wedge b) \wedge c = a \wedge (b \wedge c)$. 
      \end{itemize}
    \item We have axioms regarding distributivity:
      \begin{itemize}
        \item $a \vee (b \wedge c) = ( a \vee b) \wedge (a \vee c)$. 
        \item $a \wedge (b \vee c) = (a \wedge b) \vee ( a\wedge c)$. 
      \end{itemize}
    \item We have axioms called deMorgan's laws:
      \begin{itemize}
        \item $\neg (a \vee b ) = (\neg a) \wedge (\neg b)$. 
        \item $\neg (a \wedge b) = (\neg a) \vee (\neg b)$. 
      \end{itemize}
  \end{itemize}
\end{definition}
\begin{definition}
  Some language we will use is as follows:
  \begin{itemize}
    \item A Boolean algebra is a set-theoretic model of the theory of Boolean algebras. 
      It consists of a set $B$ and terms $0_B,1_B: B, \neg_B : B \to B, \vee_B, \wedge_B : B \times B \to B$ 
      satisfying the theory of Boolean algebras. 
      Sometimes we will leave out the subscript $(\cdot)_B$. 
    \item A morphism of Boolean algebra is a function between such sets preserving the operations above. 
      If $A,B$ are Boolean algebras, we write $A \to B$ for the type of such morphisms. 
%    \item We denote $id_B$ for the identity morphism $B \to B$. 
    \item If we have have two morphisms $f:A\to B , g : B \to A$ such that 
      $f\circ g (b) = b, g \circ f (a) = a$ for all $a:A, b:B$, 
      we say $A$ and $B$ are isomorphic and write $A \simeq B$. 
  \end{itemize}
\end{definition}
\begin{remark}
  We sometimes write $a \leq b$ and  $b \geq a$. Both of these mean that 
  $a\wedge b = a$, or equivalently $ a\vee b = b$. 
  Interpreting this notation as an order relation, we often think in the following terms:
  \begin{itemize}
    \item $a\wedge b$ is the biggest element $c$ with $c \leq a$ and $c\leq b$.
    \item $a\vee b$ is the smallest element $c$ with $c \geq a$ and $c \geq b$. 
    \item $0$ is the smallest element. 
    \item $1$ is the biggest element. 
  \end{itemize}
\end{remark}
\begin{remark}
  For a family of expressions $x_i$ over a 
  finite set of indices $I = \{i_0, \cdots, i_n\}$, we will sometimes denote 
  \begin{itemize}
    \item $\bigvee_{i:I} x_i = x_{i_0} \vee \cdots \vee x_{i_n}$,
      with the understanding that this equals $0$ if $I$ is empty. 
    \item $\bigwedge_{i:I} x_i = x_{i_0} \wedge \cdots \wedge x_{i_n}$,
      with the understanding that this equals $1$ if $I$ is empty. 
  \end{itemize}
\end{remark}

\begin{definition}
  Let $\mathcal L$ be a language, 
  let $\phi,\psi$ be terms in any language,
  and suppose that for some index set $I$ we have 
  for each $i:I$ two terms $a_i,b_i$ of same sort in $\mathcal L$. 
  Let $E= (a_i = b_i)_{i:I}$. 

  We say that $E$ allows us to rewrite $\phi$ to $\psi$ if there is a finite list of expressions 
  $\phi = \phi_0 , \phi_1, \phi_2, \cdots, \phi_{n-1}, \phi_n = \psi$, 
  such that each $\phi_{n+1}$ is given by taking $\phi_n$ and either changing one occurence of $a_i$ to  $b_i$, 
  or one occurence of $b_i$ to $a_i$ for some $i:I$. 
\end{definition}


\begin{definition}
  Given any set of symbols $G$, the free Boolean algebra on $G$, denoted $\langle G \rangle$
  is constructed as follows:
  \begin{itemize}
    \item We add $G$ as set of constants to the language of Boolean algebras. 
    \item We consider the set of terms in this language. 
    \item If there merely exists some finite sequence of 
      equalities from the theory of Boolean algebras allowing us to rewrite one term to another, 
      we consider the two terms to be equivalent. 
    \item The free Boolean algebra is then the set of equivalence classes under this relation. 
  \end{itemize}
\end{definition}
\begin{remark}
  The free Boolean algebra is a Boolean algebra. 
\end{remark}
\begin{definition}
%  Let $G$ be a set of symbols. Consider $\Phi$ the set of terms in the language 
%  given by adding $G$ as constants to the language of Boolean algebras. 
  Let $B$ be a Boolean algebra and let $R$ be a subset of the underlying set of $B$. 
%  Let $R \subseteq \Phi$. 
%  we construct the quotient $\langle G \rangle / R$ as follows:
  we construct the quotient $B / R$ as follows:
  \begin{itemize}
    \item We start with the underlying set of terms of $B$. % $\Phi$. 
    \item If there merely exists some finite sequence of 
      equalities from the theory of Boolean algebras or the set of equalities $\{r = 0 | r \in R\}$ 
      allowing us to rewrite one term to another, we consider the two terms to be equivalent. 
    \item The $B / R$ is then the set of equivalence classes under this relation. 
  \end{itemize}
\end{definition}
\begin{remark}
  For $B,R$ as above, $B / R$ is a Boolean algebra. 
\end{remark}
\begin{remark}\label{rmkMorphismsOutOfQuotient}
  Let $B$ be a Boolean algebra, and let $G,R$ be as above. 
  To define a morphism $\langle G \rangle / R \to B$, it is sufficient to define a function $f$ from $G$ 
  to the underlying set of $B$ such that for every expression $\phi:R$, we have
  $\phi[x/f(x)] = 0_B$. 
\end{remark}
\begin{remark}
  For every element $x$ of $\langle G\rangle /R$ as above,
  there merely exists a finite subset of generators $G_0\subseteq G$ such that $x$ is expressable 
  as a Boolean combination of symbols from $G_0$. 
\end{remark}
\begin{definition}
  Let $B$ be a Boolean algebra. 
  If there exist $G, R$ as above such that 
  $B \simeq \langle G \rangle /R$, 
  we call $G,R$ respectively generators and relations for $B$. 
  %
  If $G,R$ can taken to be finite, we call $B$ finitely presented. 
  If $G,R$ can taken to be countable, we call $B$ countably presented. 
\end{definition}
\begin{remark}
  There is a category of Boolean algebras, which has a subcategory of countably presented Boolean algebras, 
  which has a subcategory of finitely presented Boolean algebras. 
\end{remark}
\begin{definition}
  Let $f:B\to C$ be a Boolean morphism. 
  The set $\{x \in B| fx = 0\}$ is called the kernel of $f$ and denoted 
  $Ker(f)$. 
\end{definition}
\begin{remark}
  Let $f:B \to C$ be a Boolean morphism. 
  The epi-mono factorization of $f$ exists and is given by  
  $B \twoheadrightarrow B / Ker(f) \hookrightarrow C$.
\end{remark}
\subsection{Countably presented as colimit of finitely presented}
\begin{definition}
  A sequence in a category is a diagram of shape $\mathbb N$, 
  where $\mathbb N$ carries the natural structure of a poset. 
\end{definition}
\begin{lemma}
  For every countably presented Boolean algebra $B$
  there merely exists a sequence of finitely presented Boolean algebras 
  whose colimit in the category of Boolean algebras is $B$. 
\end{lemma}
\begin{proof}
  Consider $\langle G \rangle /R$ a countable presentation of a Boolean algebra $B$. 
%  We will show there exists a diagram of shape $\mathbb N$ taking values in Boolean algebras 
%  with $\langle G\rangle / R$ as the colimit.
  \paragraph{The diagram}
  Now let $R_n$ be the first $n$ terms in $R$. 
  Note that each of these finitely many terms uses only finitely many symbols from $G$.
  Let $G_n$ be the finite set of terms used in $R_n$, unioned with the finite set of the first $n$ elements of $G$. 
  Define for each $n\in\mathbb N$ the finitely presented Boolean algebra $B_n = G_n /R_n$. 
  If $n\leq m$, then \Cref{rmkMorphismsOutOfQuotient} gives us a map $B_n \to B_m$ 
  as $G_n \subseteq G_{n+1}$ and $R_n \subseteq R_{n+1}$. 
  Thus $(B_n)_{n\in \mathbb N}$ gives us a diagram of shape $\mathbb N$
  with values in finitely presented algebras. 

  \paragraph{The colimit}
  As $G_n\subseteq G$ and $R_n \subseteq R$, 
  \Cref{rmkMorphismsOutOfQuotient} also gives us a map $B_n\to \langle G \rangle /R$. 
  We claim the resulting cocone is a colimit. 

  Suppose we have a cocone $C$ on the diagram $(B_n)_{n\in\mathbb N}$. 
  We need to show that there exists a map $\langle G \rangle / R\to C$ and
  we need to show this map is unique as map between cocones. 
  \begin{itemize}
    \item To show there exists a map $\langle G \rangle / R \to C$, 
      we use remark \Cref{rmkMorphismsOutOfQuotient} again. 
      Let $g\in G$ be the $n$'th element of $G$, 
      note that $g\in G_n$, and consider the image of $g$ under the map $B_n \to C$. 
      This procedure defines a function from $G$ to the underlying set of $C$. 
      Let $\phi \in R$ be the $n$'th element of $R$, 
      note that $\phi \in R_n$, and the map $B_n \to C$ must send $\phi$ to $0$. 
      Thus the function from $G$ to the underlying set of $C$ also sends $\phi$ to $0$. 
      This thus defines a map $\langle G \rangle / R \to C$. 
    \item To show uniqueness, consider that any map of cocones $\langle G \rangle /R \to C$ 
      must take the same values on all $g\in G_n$ for all $n\in\mathbb N$. 
      Now all $g\in G$ occur in some $G_n$, so any map of cocones $\langle G \rangle /R \to C$ 
      takes the same values for all $g\in G$. 
      \Cref{rmkMorphismsOutOfQuotient} now tell us that these values uniquely determine the map. 
  \end{itemize}
\end{proof}
\begin{remark}
  Conversely, any colimit of a sequence of finite Boolean algebras 
  is a countably presented Boolean algebra with 
  as underlying sets of generators and relations the countable union of the finite sets of 
  generators and relations, which are both countable. 
\end{remark}
\begin{lemma}\label{lemFinitelyPresentedBACompact}
  For any finitely presented Boolean algebra $A$,
  and any sequence $(B_n)_{n:\mathbb N}$ of Boolean algebras with colimit $B$
  we have that the set $B^A$ is the colimit of the sequence of sets $(B_n^A)_{n:\mathbb N}$. 
\end{lemma}  
\begin{proof}
  First note that $B^A$ forms a cocone on $(B_n^A)_{n:\mathbb N}$ 
  because any map $A \to B_n$ induces a map $A \to B$. 
  Let $C$ be a cocone on $(B_n^A)_{n:\mathbb N}$. 
  We shall show there is an unique morphism of cocones $B^A \to C$. 
  \begin{itemize}
    \item For existence, let $f:B^A$. 
      As $A$ is finitely presented, we write $A = \langle G \rangle / R$ with $G$ finite.
      By \Cref{rmkMorphismsOutOfQuotient}, $f$ is uniquely determined by it's values on $g\in G$. 
      As $G$ is finite, so is it's image $f(G)\subseteq B$. 
      But any finite subset of $B$ already occurs in $B_n$ for some $n\in\mathbb N$. 
      Consequently, the image of $f$ is already contained in some $B_n$. 
      Thus there is some $f_n:(B_n^A)$ such that postcomposing 
      $f_n$ with the inclusion $B_n \subseteq B$ gives back $f$. 
      The image of $f_n$ under the map $(B_n^A) \to C$ is how we define the image of $f$. 
      This is well-defined by the cocone conditions on $C$. 
    \item 
      For uniqueness, by function extensionality maps $B^A \to C$ are uniquely determined by their values on 
      $f:B^A$. By the above, the value of $f$ is uniquely determined by it's value on $B_n$ for 
      any $n$ with the image of $f$ in $B_n$. Thus there is at most one morphism of cocones $B^A \to C$. 
  \end{itemize}
\end{proof}

For our next lemma on this presentation of sequences we need the axiom of dependent choice. 
\begin{axiomNum}[Dependent choice]\label{axDependentChoice}
  Given a family of types $(E_n)_{n:\mathbb N}$ and 
  a relation 
  $R_n:E_n\rightarrow E_{n+1}\rightarrow {\mathcal U}$ such that
%  $\Pi_{n:\mathbb N} \Pi_{x:E_n} \exists_{y:E_{n+1}} R_n x y$.
  for all $n$ and $x:E_n$ there exists $y:E_{n+1}$ with $p:R_n~x~y$ 
  then given $x_0:E_0$ there exists
  $u:\Pi_{n:\N}E_n$ and $v:\Pi_{n:\N}R_n~(u~n)~(u~(n+1))$ and $u~0 = x_0$.
\end{axiomNum}
\begin{lemma}[Using dependent choice]\label{lemDecompositionOfColimitMorphisms}
  Let $B,C$ be countably presented Boolean algebras, 
  and suppose we have a morphism $f:B\to C$.
  There exists sequences of finitely presented Boolean algebras 
  $(B_n)_{n:\mathbb N}, (C_n)_{n:\mathbb N}$ with colimits $B,C$ respectively
  and compatible maps of Boolean algebras $f_n:B_n \to C_n$, 
  such that $f$ is the induced morphism $B\to C$.
\end{lemma}
\rednote{Active here}
\begin{proof}
  Let $(B_n)_{n:\mathbb N}, (C_n)_{n:\mathbb N}$ be 
  sequences of finitely presented Boolean algebras with colimits $B$ and $C$. 
  We will take a subsequence of $(C_n)_{n:\mathbb N}$, using the axiom of dependent choice above. 

  Our family of types $E_k$ as in \Cref{axDependentChoice} 
  will be strictly increasing sequences $(n_i)_{i\leq k}$ of natural numbers together with a finite family of maps 
  $(f_i: B_{i} \to C_{n_i})_{i\leq k}$ such that
  for all $0\leq i<k$ the following diagram commutes:
  \begin{equation}\label{eqnDecompositionOfColimitMorphisms}
    \begin{tikzcd}
      B_{i} \arrow[r] \arrow[d, "f_i"]& B_{{i+1}} \arrow[r] \arrow[d,"f_{i+1}"]& B \arrow[d,"f"] \\
      C_{n_i} \arrow[r] & C_{n_{i+1}} \arrow[r] & C 
    \end{tikzcd}
  \end{equation}
  Our relation $R_k$ will tell whether the second sequence extends the first one. 
%
  By \Cref{lemFinitelyPresentedBACompact} 
  there exists some $n_0:\mathbb N$ 
  such that $B_0 \to B \to C$ factors as 
  \begin{equation}
    \begin{tikzcd}
      B_{0} \arrow[r] \arrow[d, "f_0"]& B \arrow[d,"f"] \\
      C_{n_0} \arrow[r] & C 
    \end{tikzcd}
  \end{equation}
  Because our goal is a proposition, we can untracate this existence to data. 
  This data will form our $x_0:E_0$. %from \Cref{axDependentChoice}. 
%
  Now suppose we have $(f_i: B_{i} \to C_{n_i})_{i\leq k}$ for some $k\geq 0$ 
  such that
  for all $0\leq i<k$ the diagram of \Cref{eqnDecompositionOfColimitMorphisms} commutes.
  We shall show that in this case there exists an $n_{k+1}, f_{k+1}$ 
  making the same diagram commute for $i = k$. 
  Consider $B_{{k}+1}\to B \to C$. By the same argument as for $B_0$, we have a factorization 
  \begin{equation}
    \begin{tikzcd}
    B_{k+1} \arrow[r]  \arrow[d,"f'_{k+1}"]& B \arrow[d,"f"]\\
    C_{n'_{k+1}} \arrow[r] & C
    \end{tikzcd}
  \end{equation}
  Note that we may assume $n'_{k+1} > n_k$.
  Note that it is not necessarily the case that 
  $f'_{k+1}$ is compatibly with $f_k$, meaning the left square in the following diagram needn't commute 
  However, both $f'_{k+1}, f_k$ induce the same map $B_{n_k} \to C$, 
  so by \Cref{lemFinitelyPresentedBACompact} there exists an $n_{k+1}$ 
  such that the outer square and right square in 
  \rednote{missing square involving the new thing}
  \begin{equation}
    \begin{tikzcd}
      B_{k} \arrow[r] \arrow[d, "f_k"]& B_{{k+1}} \arrow[rr] \arrow[d,"f'_{k+1}"]& & B \arrow[d,"f"] \\
      C_{n_k} \arrow[r] & C_{n'_{k+1}} \arrow[r] & C_{n_{k+1}} \arrow[r] & C 
    \end{tikzcd}
  \end{equation}
  do commute. 
  Here we may also assume that $n_{k+1}>n_k$ 
  and we take $f_{k+1}$ to be the resulting morphism $B_{k+1} \to C_{n_{k+1}}$. 

  Now by dependent choice for this situation, we get a sequence $(f_i:B_i \to C_{n_i})$  for some 
  strinctly increasing sequence $n_i$ of natural numbers. 
  Note that any strictly increasing subsequence of a sequence still has the same colimit, 
  thus $(C_{n_i})_{i:\mathbb N}$ converges to $C$ and $(B_i)_{i:\mathbb N}$ still converges to $B$. 
  Thus our sequence $(f_i)_{i:\mathbb N}$ is as required. 
  \rednote{I'm missing some nuance regarding the second extension} 

\end{proof}
\begin{lemma}
  If $f:B \to C$ is a surjective/injective morphism of Boolean algebras, 
  the maps $f_n$ from \Cref{lemDecompositionOfColimitMorphisms} can taken to 
  be surjective/injective as well. 
\end{lemma}
\begin{proof}
\end{proof}

\rednote{End of activity}
\subsection{Examples of countably presented Boolean algebras}
\begin{example}
  $2$ is the Boolean algebra given by the empty set of generators and no relations. 
    It's underlying set is $\{0,1\}$. 
\end{example}

\begin{example}\label{ExampleBAunderCantor}
  $C = \langle N \rangle $ is the Boolean algebra given by $\mathbb N$ as set of generators and no relations. 
\end{example}
\begin{example}\label{ExampleBAunderNinfty}
  Denote $\mathbb N_{(co)fin}$ for the set of subsets of $\mathbb N$ which are finite or co-finite. 
  Under the interpretation of $\wedge = \cap , \vee = \cup, 0 = \emptyset, 1 = \mathbb N$, and $\neg$ 
  as the set-theoretic complemented (denoted $(\cdot)^C$). 

  These operations are well-defined on $\mathbb N_{(co)fin}$ 
  and they give the structure of a Boolean algebra (exercise for the reader if you don't believe me). 
  We claim it is countably presented. 

  Let $G = \{p_n| n:\mathbb N\} $ be a countably infinite set of generator symbols and let 
  $R = \{ p_n \wedge p_m | n\neq m :\mathbb N \}$. 
  We claim that $\langle G \rangle / R \simeq \mathbb N_{(co)fin}$. 

\begin{proof}
  We let $f:\langle G \rangle / R \to \mathbb N_{(co)fin}$, be the unique morphism of Boolean algebras 
  satisfying $f(p_n) = \{n\}$ for all $n:\mathbb N$. As $\{n\} \cap \{m\} = \emptyset$ whenever $n\neq m$, 
  \Cref{rmkMorphismsOutOfQuotient} indeed tells us this is sufficient to define $f$. 

  Now we define $g:\mathbb N_{(co)fin} \to \langle G \rangle / R$. 
  On a finite subset $I$, we define $g(I) = \bigvee_{i\in I} p_i$, 
  and on a cofinite subset $J$, we define $g(J) = \bigwedge _{i \in J^C} \neg p_i$. 
  Note that in these cases we indeed have $I,J^C$ are finite, so these are well-defined elements. 

  We need to show that $g$ is a Boolean morphism. 
  \begin{itemize}
    \item 
      By deMorgan's laws, $g$ preserves $\neg$:
      for $I$ finite we have
      \begin{equation}
      \neg g(I) = \neg (\bigvee_{i\in I} p_i) = \bigwedge_{i\in I} \neg p_i = g(I^C)
      \end{equation}
      And for $J$ cofinite, we apply similar reasoning. 
    \item To see that $g$ preserves $\vee$, we need to check three cases
      \begin{itemize}
        \item If both $I,J$ are finite, then 
        \begin{equation} 
          g(I \cup J) = \bigvee_{i\in I \cup J} p_i= \bigvee_{i\in I} p_i \vee \bigvee_{j\in J} p_j 
          = g(I) \vee g(J)
        \end{equation}
        and we're done. 
      \item If both $I,J$ are cofinite, we have
        \begin{equation}
          g(I) \vee g(J) = 
          \bigwedge_{i \in I^C} \neg p_i \vee 
          \bigwedge_{j \in J^C} \neg p_j 
          = 
          \bigwedge_{i\in I^C} 
          \bigwedge_{j \in J^C}(\neg p_i \vee  \neg p_j) 
        \end{equation}
        Now note that in $\langle G \rangle / R$, we have 
        \begin{equation}
          \neg p_i \vee \neg p_j = \neg ( p_i \wedge p_j) = 
          \begin{cases}
            p_i \text{ if } i = j\\
            1 \text{ if } i \neq j  
          \end{cases}
        \end{equation}
        Therefore, we can leave out the case that $i\neq j$ in the calculation of the above meet, and
        \begin{equation}
          \bigwedge_{i\in I^C} 
          \bigwedge_{j \in J^C}(\neg p_i \vee  \neg p_j)  
          = 
          \bigwedge_{i \in (I^C \cap J^C)} \neg p_i
          = 
          \bigwedge_{i \in (I \cup J)^C} \neg p_i 
        \end{equation}
        as $I\cup J$ must also be cofinite, this equals 
          $ g( I \cup J)$. 
        \item 
          If $I$ is finite and $J$ cofinite, we have 
          that $I\cup J$ is cofinite, hence 
          \begin{equation}
            g(I\cup J) = \bigwedge_{k\in (I \cup J)^C} \neg p_k
            = \bigwedge_{k \in (J^C -I)} \neg p_k
          \end{equation}
          Now note that 
          whenever $i\neq k$, we have 
          \begin{equation}
            p_i = (p_i \wedge \neg p_k) \vee (p_i \wedge p_k) = 
            (p_i \wedge \neg p_k) \vee 0 = p_i \wedge \neg p_k
          \end{equation}
          Hence by absorption
          \begin{equation} 
            (p_i \vee \neg p_k)  =
              \begin{cases}
                1 \text{ if } i = k \\
                \neg p_k \text{ if } i \neq k
              \end{cases}
          \end{equation}
          As for all $k\in J^C-I$ and all $i\in I$ we have $k\neq i$, we may thus write
          \begin{equation}
            \bigwedge_{k \in (J^C - I)} \neg p_k = 
            \bigwedge_{k \in (J^C - I)} (\neg p_k \vee (\bigvee_{i\in I} p_i))
          \end{equation}
          But now we can use that adding $1$ in a meet does not change the meet, and see that 
          \begin{equation}
            \bigwedge_{k \in (J^C - I)} (\neg p_k \vee (\bigvee_{i\in I} p_i))
            = 
            \bigwedge_{j \in J^C} (\neg p_j \vee (\bigvee_{i\in I} p_i))
          \end{equation}
          And using distributivity rules, we can see that 
          \begin{equation}
            \bigwedge_{j \in J^C} (\neg p_j \vee (\bigvee_{i\in I} p_i))
            = 
            (\bigwedge_{j \in J^C} \neg p_k) \vee (\bigvee_{i\in I} p_i)
          \end{equation}
          From which we may conclude that $g(I\cup J) = g(I) \cup g(J)$. 
      \end{itemize}
    \item The case for $\wedge$ is completely dual to the case for $\vee$. 
  \end{itemize}
We conclude that $g$ is a Boolean morphism. 
Furthermore, $g$ and $f$ are each other's inverse, thus the Boolean algebras are isomorphic. 
\end{proof}
\end{example}
\section{Axioms}
\begin{definition}
  For $B$ a countably presented Boolean algebra, we define $Sp(B)$ as the set of Boolean morphisms from $B$ to $2$. 
\end{definition}
\begin{axiomNum}[Stone duality]
  For any countably presented Boolean algebra $B$, the evaluation map $B\rightarrow  2^{Sp(B)}$ is an isomorphism.
\end{axiomNum} 
\newcommand{\isSt}{\mathsf{isStone}}
\begin{definition}
  We define the predicate on types $\isSt$ by 
  \begin{equation}
    \isSt(X) := \sum\limits_{B : Boole} X = Sp(B)
  \end{equation} 
  A type $X$ is called \textit{Stone} if $\isSt(X)$ is inhabited.
\end{definition}

\begin{remark}
  \rednote{Check references in other versions of HoTT, draft}
Stone types will take over the role of affine scheme from \cite{draft}, 
and we repeat some results here. 
Analogously to Lemma 3.1.2 of \cite{draft}, 
for $X$ Stone, Stone duality tells us that $X = Sp(2^X)$. 
%
Proposition 2.2.1 of \cite{draft} now says that 
$Sp$ gives an equivalence 
\begin{equation}
   Hom_{\Boole} (A, B) = (Sp(B) \to Sp(A))
\end{equation}
Therefore $\isSt$ is a proposition.
Equivalently, 
%By Definition 4.6.1 %defines an embedding 
%of \cite{hott}, 
this means that 
$Sp$ is an embedding from $\Boole$ to any universe of types.
Its image, $\Stone$ also has a natural category structure.
By the above and Lemma 9.4.5 of \cite{hott}, 
the map $Sp$ defines a dual equivalence of categories between $\Boole$ and $\Stone$.
\end{remark}

\begin{axiomNum}[Surjections are Formal Surjections]
  A map $f:Sp(B')\to Sp(B)$ is surjective iff the corresponding map $B \to B'$ is injective.
\end{axiomNum} 
\begin{axiomNum}[Local choice]
  Whenever $X$ Stone and $E\twoheadrightarrow X$ surjective, then there is some $Y$ Stone,
    a surjection $Y \twoheadrightarrow X$ and a map $Y\to E$ such that the following diagram commutes:
    \begin{equation}\begin{tikzcd}
      E \arrow[d,""',two heads]\\
      X & \arrow[l, "", two heads] Y\arrow[lu, ""']
    \end{tikzcd}\end{equation}  
\end{axiomNum} 

\section{Stone spaces}
\subsection{Examples of Stone types}
\begin{example}
  The dual to $C$ from \Cref{ExampleBAunderCantor} is called Cantor space 
  and denoted $2^\mathbb N$. 
  By \Cref{rmkMorphismsOutOfQuotient}, terms of $2^\mathbb N$ 
  correspond to set-theoretic functions $\mathbb N \to 2$. 
  We also call such functions binary sequences. 
\end{example}
\begin{example}
  The dual to $\mathbb N_{(co)fin}$ from \Cref{ExampleBAunderNinfty} is called 
  $\mathbb N_\infty$. By \Cref{rmkMorphismsOutOfQuotient}, terms of $\mathbb N_\infty$ 
  correspond to functions $\alpha: \mathbb N \to 2$ such that $\alpha(n) \wedge \alpha(m) = 0$ 
  whenever $n \neq m$. This means that $\alpha(n) = 1$ for at most one $n\in\mathbb N$. 
  There is an embedding $\mathbb N \to \mathbb N_\infty$ sending $n$ to the unique sequence $\chi_n$
  which sends $n$ to $1$. 
  There is furthermore a term $\infty:\mathbb N_\infty$ which is the sequence which is constantly $0$. 
\end{example}

\subsection{Omniscience principles}

\subsection{Topology}

\subsection{Compact Hausdorff spaces}
\subsection{Analysis}


%\chapter{Axioms}
%\chapter{Stone Spaces}
%\chapter{Open and closed propositions}
%



\appendix
\rednote{The following is not put in order}
\section*{Introduction}
\input{introduction.tex}
%

\section{Omniscience principles}
\input{Omniscience/UnionIntersectionComplement}

\section{Topology}
\input{topology.tex}
\subsection{Compact Hausdorff}
\input{Topology/CompactHausdorff}
\input{IntersectionOfClosedIsClosedCmptHausdorff}

\subsection{Open propositions}
\input{OvertlyDiscrete/FactorizationFin}

\section{Analysis}

\subsection{Convergence}
\input{Convergence/convergenceClosed}
\input{Convergence/ConvergenceExtension}

\subsection{The interval}
%\input{Interval/TrinaryRep}
\input{Interval/BinaryRep}
%\printindex

\printbibliography

\end{document}
