Compilation of various facts on synthetic stone duality which I (Hugo) don't know where to put. I'm not even sure where I should put this section.


\subsection{Stone space are sequential limits of finite types}

\begin{lemma}
Let $X$ be a type. TFAE:
\begin{enumerate}[(i)]
\item $X$ is Stone.
\item $X$ is a sequential limit of finite type.
\end{enumerate}
\end{lemma}

\begin{proof}
The key remark is that:
\[\Spec(\mathrm{colim}_kB_k) = \mathrm{lim}_k\Spec(B_k)\]
\begin{itemize}
\item (i) implies (ii). We know that countably presented algebra are sequential colimit of finitely presented algebra. But spectrum of f.p. algebras are finite type and we conclude using the key remark.
\item (ii) implies (i). By the key remark and the fact that c.p. algebras are stable by sequential colimits, we conclude that Stone spaces are stable by sequential limit and the fact that finite type are Stone spaces is enough to conclude.
\end{itemize}
\end{proof}


\subsection{Overtly discrete types are sequential colimits of finite types}

\begin{lemma}\label{open-in-N-pseudo-countable}
Any open in $\mathbb{N}$ is countable in the sense that it is merely equivalent to a decidable in $\N$.
\end{lemma}

\begin{proof}
Assume given a map $U:\N\to\mathrm{Open}$. By countable choice there is a map:
\[\alpha:\N\to \N_\infty\]
such that:
\[\prod_{n:\N} U(n) = (\sum_{k:\N} \alpha(n,k) = 1)\]
Then:
\[\sum_{n:\N}U(n) = \sum_{n,k:\N}\alpha(n,k) = 1\]
which allows us to conclude.
\end{proof}

\begin{lemma}\label{overtly-discrete-colimit-finite}
Let $X$ be a type, TFAE:
\begin{enumerate}[(i)]
\item $X$ is overtly discrete.
\item $X$ is a sequential colimit of finite types.
\end{enumerate}
\end{lemma}

\begin{proof}
\begin{itemize}
\item (i) implies (ii). Assume $X$ overtly discrete, by using \cref{open-in-N-pseudo-countable} we know is of the form:
\[X  = (\Sigma_\N D)/R\]
with $D$ decidable and $R$ open. Using choice for $\Sigma_\N D$ we get:
\[\alpha : (\Sigma_\N D) \to (\Sigma_\N D)\to 2\]
such that:
\[R(x,y) = \exists_{k:\N} \alpha(x,y,k) = 1\]
Then we define:
\[X_n = (\Sigma_{\mathrm{Fin}(n)} D) / L\]
\[L(x,y) = \exists_{k:\mathrm{Fin}(n)} \alpha(x,y,k) = 1\]
We have that $X_n$ is a finite type as it is a decidable quotient of a decidable subset of a finite type. Moreover:
\[\mathrm{colim}_n X_n = X\]
as sequential colimit commutes with quotients by equivalence relations.
\item (ii) implies (i). Indeed consider a sequential colimit of:
\[f_k : \mathrm{Fin}(l_k) \to \mathrm{Fin}(l_{k+1})\]
Then:
\[\mathrm{colim}_k \mathrm{Fin}(l_k)  =  \left(\sum_{k:\N} \mathrm{Fin}(l_k)\right) / L\]
where $L$ is the equivalence relation generated by $(k,x) \sim (k+1,f_k(x))$. But $\sum_{k:\N} \mathrm{Fin}(l_k)$ is a decidable in $\N$ and the equivalence relation generated by a decidable relation on such a type is open.
\end{itemize}
\end{proof}


\subsection{Overtly discrete boolean algebras}

\begin{lemma}\label{overtly-discrete-algebra}
Let $B$ be a boolean algebra, TFAE:
\begin{enumerate}[(i)]
\item $B$ is countably presented.
\item $B$ is a colimit of finitely presented algebras.
\item The underlying type of $B$ is overtly discrete.
\end{enumerate}
\end{lemma}

\begin{proof}
We will prove (i) implies (ii) implies (iii) implies (i).
\begin{itemize}
\item (i) implies (ii) is known.
\item (ii) implies (iii) is an immediate consequence of \cref{overtly-discrete-colimit-finite}.
\item (iii) implies (i). Assume $B = (\Sigma_\N D)/R$ with. $D$ decidable and $R$ open. Then $B$ is the boolean algebra $2[\N]$ generated by $\N$ quotiented by $L$ generated by:
\begin{itemize} 
\item For all $x:\N$ such that $\neg D(x)$ we have that $L(x,0)$.
\item For all $s,t:2[\N]$ such that $s,t\in 2[\Sigma_\N D]$ and $R([s],[t])$ we have that $L(s,t)$.
\end{itemize}
This family of relations is indexed by an open in $\N$, and therefore can be indexed by a decidable $E$ in $\N$. It is therefore equivalent to the set of relations indexed by $x:\N$ with the dummy relation $0=0$ when $\neg E(x)$.
\end{itemize}
\end{proof}

\begin{remark}
By a similar reasoning, we probably have that abelian groups are overtly discrete if and only is they are countably presented.
\end{remark}

\begin{corollary}
Given $X$ compact Hausdorff and $C_x$ a c.p. algebra depending on $X$, we have that:
\[\prod_{x:X}C_x\]
is a c.p. algebra.
\end{corollary}

\begin{proof}
By Tychonov, it is overtly discrete. 
\end{proof}


\subsection{Overt stone spaces}

\begin{proposition}
Let $S$ be a stone space. TFAE:
\begin{enumerate}[(i)]
\item $S$ is overt, i.e. for all $U:X\to \mathrm{Open}$ we have that $\exists_{x:S} U(x)$ is an open proposition.
\item For all $C:X\to \mathrm{Closed}$ we have that $\forall_{x:S} C(x)$ is closed.
\item Equality in $2^S$ is decidable.
\end{enumerate}
\end{proposition}

\begin{proof}
We prove (i) implies (ii) implies (iii) implies (i).
\begin{itemize}
\item (i) implies (ii). Given $C:X\to \mathrm{Closed}$ we have that:
\[\forall_{x:S} C(x) = \neg \exists_{x:S} \neg C(x)\]
as $C(x)$ is $\neg\neg$-stable, and we can conclude using overtness.
\item (ii) implies (iii). We have that (ii) implies equality in $2^S$ closed, but it is always open so we can conclude.
\item (iii) implies (i). Given $U:X\to \mathrm{Open}$ we have that $U = \exists_{n:\N} U_n$ with $U_n$ decidable. We have that:
\[\neg \exists_{x:S} U_n(x) = \forall_{x:S} \neg U_n(x)\]
which is decidable by (iii). Therefore by Markov (TODO is this correct Markov?):
\[\neg(\forall_{n:\N} \neg (\exists_{x:S} U_n(x))) =  \exists_{n:\N} \neg\neg (\exists_{x:S} U_n(x)) =  \exists_{n:\N} \exists_{x:S} U_n(x) = \exists_{x:S}U(x)\]
So we have that $\exists_{x:S}U(x)$ is indeed open.
\end{itemize}
\end{proof}