\subsection{Stone spaces are acyclic}

We should prove for $S$ stone and $A$ an overtly discrete abelian group, for all $n>0$ we have:
\[H^n(S,A) = 0\]

\begin{lemma}\label{vanishing-1-cohomology-stone}
Let $S$ be Stone and $A_x$ an overtly discrete abelian group depending on $x:S$. Then:
\[H^1(x:S,A_x) = 0\]
\end{lemma}

\begin{proof}
TODO
\end{proof}

We (Thierry \& Hugo) follow David's proof in SAG to go from $1$ to all $n$.

\begin{lemma}\label{eilenberg-exponentials-auxiliary}
Assume for all $S$ Stone and $A$ overtly discrete abelian group we have that:
\[H^k(S,A) = 0\] 
for all $0<k<n$. Then:
\begin{itemize}
\item For all $S$ Stone and $A$ overtly discrete abelian group, for all $k<n$ the map:
\[K(A^S,k) \to K(A,k)^S\]
is an equivalence.
\item For all $S$ Stone and $A$ overtly discrete abelian group, the map:
\[K(A^S,n) \to K(A,n)^S\]
is an embedding.
\end{itemize}
\end{lemma}

\begin{proof}
We proceed by induction on $n$. If $n=0$ this is clear as we always have that $K(A^S,0) = K(A,0)^S$.

Assume it holds for $n$, then:
\begin{itemize} 
\item We need to prove that the embedding:
\[K(A^S,n) \to K(A,n)^S\]
is an equivalence. If $n=0$ it is immediate and otherwise by $H^n(S,A)=0$ we know that $K(A,n)^S$ is connected, so the embedding is surjective and therefore an equivalence. 
\item We need to prove that the map:
\[K(A^S,n+1) \to K(A,n+1)^S\]
is an embedding, since the source is connected it is enough to prove that:
\[\Omega K(A^S,n+1) \to \Omega (K(A,n+1)^S)\]
is an equivalence but this is the previous bullet-point.
\end{itemize}
\end{proof}

\begin{theorem}\label{vanishing-cohomology-stone}
Let $S$ be Stone and $A_x$ an overtly discrete abelian group depending on $x:S$. Then for all $n>0$ we have that:
\[H^n(S,A) = 0\]
\end{theorem}

\begin{proof}
We proceed by induction on $k$. For $k=1$ it is \cref{vanishing-1-cohomology-stone}.

Assume it hold for all $0<k<n$ we want to prove it for $n$. Assume:
\[\alpha : \prod_{x:S} K(A_x,k+1)\]
By local choice we have a surjective map:
\[f:\sum_{x:S}T_x\to S\]
with $T_x$ Stone such that we merely have:
\[\prod_{x:S} T_x\to (\alpha(x) = *)\]
This means that the image of $\alpha$ under the diagonal map:
\[\prod_{x:S} K(A_x,k+1) \to \prod_{x:S} K(A_x,k+1)^{T_x}\]
merely is zero.

By \cref{eilenberg-exponentials-auxiliary} it means that the image of $\alpha$ by the map:
\[\prod_{x:S} K(A_x,n) \to \prod_{x:S} K(A_x^{T_x},n)\]
merely is $0$, which means that the map:
\[H^{n}(x:S,A_x) \to H^{n}(x:S,A_x^{T_x})\]
sends $\alpha$ to $0$. 

Then we consider the exact sequence depending on $x:S$:
\[0\to A_x\to A_x^{T_x}\to L_x\to 0\]
so we have an exact sequence: 
\[H^{n-1}(x:S,L_x)\to H^n(x:S,A_x)\to H^n(x:S,A_x^{T_x})\]
where $\alpha$ is send to $0$ in $H^n(x:S,A_x^{T_x})$. By induction we have $H^{n-1}(x:S,L_x)$ from which we conclude that $\alpha$ is equal to $0$ in $H^n(x:S,A_x)$.
\end{proof}

\begin{corollary}\label{eilenberg-exponentials}
For all $S$ Stone, $A$ overtly discrete abelian group  and $n$ we have that the map:
\[K(A^S,n) \to K(A,n)^S\]
is an equivalence.
\end{corollary}

\begin{proof}
From \cref{eilenberg-exponentials-auxiliary} and \cref{vanishing-cohomology-stone}.
\end{proof}


\subsection{\v{C}ech cohomology}

\begin{definition}
A \v{C}ech cover for a type $X$ consists of a surjective map:
\[f:S\to X\]
where $S$ is Stone and for all $x:X$ the fiber $S_x$ of $f$ over $x$ is Stone.
\end{definition}

Next lemma show that cohomology interact well with \v{C}ech cover. It will be used latter to prove that cohomology and \v{C}ech cohomology agree.

\begin{lemma}\label{inductive-definition-cohomology}
Assume given $X$ a type with a \v{C}ech cover:
\[f:S\to X\]
as well as $A_x$ an overtly discrete abelian group depending on $x:X$.

For all $n\geq 1$ we have an exact sequence:
\[H^{n-1}(x:X,A_x^{S_x}) \to H^{n-1}(x:X,L_x)\to H^n(x:X,A_x)\to 0\]
natural in $A$, where $L_x = A_x^{S_x}/A_x$.
\end{lemma}

\begin{proof}
Using the long exact sequence associated to:
\[0\to A_x\to A_x^{S_x}\to L_x\to 0\]
by \cref{vanishing-cohomology-stone} it is enough to prove that for all $n$ we have:
\[H^n(x:X,A_x^{S_x}) = H^n(x:S,A_x)\]
But by \cref{eilenberg-exponentials} we have that:
\[\prod_{x:X}K(A_x^{S_x},n) = \prod_{x:S}K(A_x,n)\]
\end{proof}

\begin{definition}
Assume given a \v{C}ech cover
\[f:S\to X\]
and $A_x$ an overtly discrete abelian group depending on $x:X$.

Then we define the \v{C}ech complex by:
\[\prod_{x:X}A_x^{S_x} \to \prod_{x:X}A_x^{S_x\times S_x} \to \cdots\]
with the boundary maps defined as expected, that is:
\[\delta(\alpha)(x,u_0,\cdots,u_n) = \sum_{i=0}^n (-1)^i\alpha(x,u_0,\cdots,\hat{u_i},\cdots,u_n)\]
Then the \v{C}ech cohomology:
\[\check{H}^k(x:X,A_x)\]
is defined as the $k$-th homology group of the \v{C}ech complex.
\end{definition}

\begin{lemma}
Assume given a \v{C}ech cover:
\[f:S\to X\]
If we are given a short exact sequence of overtly discrete abelian group:
\[0\to A_x\to B_x\to C_x\to 0\]
depending on $x:X$, there is a long exact sequence of \v{C}ech cohomology groups:
\[\check{H}^0(x:X,A_x) \to\check{H}^0(x:X,B_x) \to\check{H}^0(x:X,C_x) \to\check{H}^1(x:X,A_x) \to\check{H}^1(x:X,B_x) \to\check{H}^1(x:X,C_x) \to\cdots \]
Moreover this long exact sequence is natural in the short exact sequence.
\end{lemma}

\begin{proof}
We just use the fact that all elements $\sum_{x:X} T_x^{k+1}$ in the \v{C}ech complex are Stone spaces, so a short exact sequence of overtly discrete abelian group induces a short exact of \v{C}ech complexes by \cref{vanishing-cohomology-stone}.
\end{proof}

\begin{lemma}\label{inductive-definition-cech-cohomology}
Assume given \v{C}ech cover:
\[f:S\to X\]
and $A_x$ an overtly discrete abelian group depending on $x:X$.

For all $n\geq 1$ we have an exact sequence:
\[\check{H}^{n-1}(x:X,A_x^{S_x}) \to \check{H}^{n-1}(x:X,L_x)\to \check{H}^n(x:X,A_x)\to 0\]
natural in $A$ where $L_x=A_x^{T_x}/A_x$.
\end{lemma}

\begin{proof}
It is enough to prove $\check{H}^n(x:X,A_x^{S_x}) = 0$ for all $n\geq 1$. Indeed assume given:
\[\alpha : \prod_{x:X} S_x^{n+1}\to S_x\to A_x\]
such that $\delta(\alpha) = 0$, i.e. for all $x:X$ and $u_0,\cdots, u_{n+1},v:S_x$ we have that:
\[\sum_{i=0}^{n+1}(-1)^i\alpha(x,u_0,\cdots,  \hat{u_i},\cdots ,u_{n+1},v) = 0\]
Then we define:
\[\beta : \prod_{x:X} S_x^{n}\to S_x\to A_x\]
\[\beta(x,u_0,\cdots,u_{n-1},v) = (-1)^n\alpha(x,u_0,\cdots,u_{n-1},v,v)\]
and then:
\[\delta(\beta)(x,u_0,\cdots,u_{n},v) = (-1)^n\sum_{i=0}^{n} (-1)^i \alpha(x,u_0,\cdots,\hat{u_i},\cdots,u_n,v,v) \]
\[= \alpha(x,u_0,\cdots,u_n,v)\]
\end{proof}

\begin{theorem}
Assume given a \v{C}ech cover:
\[f:S\to X\]
and $A_x$ an overtly discrete abelian group depending on $x:X$.

Then we have a natural isomorphism:
\[H^n(x:X,A_x) = \check{H}^n(x:X,A_x)\]
\end{theorem}

\begin{proof}
We proceed by induction on $n$. For $n=0$ we need to prove that maps:
\[\alpha:\prod_{s:S}A_{f(s)}\]
such that whenever $f(s)=f(t)$ we have that $\alpha(s) = \alpha(t)$ are naturally isomorphic to:
\[\prod_{x:X}A_x\]
This is immediate.

For the inductive step we use \cref{inductive-definition-cohomology} and \cref{inductive-definition-cech-cohomology}. Naturality comes from the naturality of the exact sequences.
\end{proof}


\subsection{The unit interval is acyclic}

\begin{proposition}\label{vanishing-cohomology-interval}
For all $A$ overtly discrete and all $k$ we have that:
\[H^k(\mathbb{I},A) = 0\]
\end{proposition}

\begin{proof}
TODO
\end{proof}
