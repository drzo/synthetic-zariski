\subsection{Cotangent spaces}

\begin{definition}
For $X$ a type and $p : X$ a point, the \notion{cotangent space} at $p$ is the
$R$-linear dual $T^\star_p X$ of the tangent space $T_p X$.
\end{definition}

If $X$ is a scheme, then by \cref{fp-duality} the cotangent spaces of $X$
are finitely presented.

\begin{definition}
For $A$ an $R$-module, the type $\Omega_{A/R}$ of \notion{Kähler differentials}
is the codomain of the universal derivation $d : A \to \Omega_{A/R}$.
\end{definition}
That is, $\Omega_{A/R}$ is generated as an $A$-module by symbols
$df$, $f : A$, subject to relations $d(rf) = r \cdot df$ for $r : R$ and
$d(fg) = f \cdot dg + g \cdot df$.
It can be seen that if $A$ is finitely presented as an $R$-algebra,
then $\Omega_{A/R}$ is finitely presented as an $A$-module.

\begin{lemma}
For $X = \Spec A$ an affine scheme, recall from
\cite[Theorem 8.2.3]{draft} that there is an equivalence of categories between
finitely presented $A$-modules and families of finitely presented $R$-algebras
over $X$. Under this correspondence,
$\Omega_{A/R}$ corresponds to the cotangent bundle of $X$.
\end{lemma}
\begin{proof}
We need to show that for $p : X$,
   we have an isomorphism of $R$-modules
   \[\Omega_{A/R} \otimes_A R \simeq T^\star_p X.\]
Recall that the tangent space space $T_p X$ corresponds to derivations
$A \to R$, where the $A$-module structure on $R$ is obtained from $p$.
These correspond to $A$-module maps $\Omega_{A/R} \to R$, by the universal property
of Kähler differentials.
By the restriction-extension of scalars adjunction, these correspond to $R$-linear
maps $\Omega_{A/R} \otimes_A R \to R$.
Thus $T_p X$ is the dual of
$\Omega_{A/R} \otimes_A R$.
By \cref{fp-duality} we get the desired result.
\end{proof}
