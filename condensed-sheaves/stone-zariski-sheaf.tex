We want to do two successive sheafifications, the Zariski one and the fppf one. We could (should?) do them in one go. This section is about the Zariski sheafification, meaning we build a model of:

\begin{itemize}
\item Duality for $2$
\item Affine schemes are projective.
\item Dependent choice.
\end{itemize}


\subsection{Zariski sheaves}

\begin{definition}
The Zariski topology consists of finite sums:
\[f_1 \inv + \cdots + f_n \inv\]
where $f_1,\cdots,f_n:B$ such that:
\[(f_1,\cdots,f_n) = 1\]
\end{definition}

\begin{definition}
The disjoint topology consists of finite sums:
\[f_1 \inv + \cdots + f_n \inv\]
where $f_1,\cdots,f_n:B$ is a fundamental system of idempotent, i.e.
\[f_1+\cdots+f_n = 1\]
\[f_i^2 = f_i\]
\[f_if_j = 0\]
when $i\not=j$.
\end{definition}

\begin{lemma}
A type $X$ is a Zariski sheaf if and only if it is a disjoint sheaf.
\end{lemma}

\begin{proof}
The disjoint topology is included on the Zariski topology, so we just need to prove that:
\[f_1 \inv \lor \cdots \lor f_n \inv\]
is disjoint-contractible. So we need to prove the proposition assuming $f=0\lor f=1$ for finitely many $f:B$. This is straightforward.
\end{proof}

\begin{lemma}
The Zariski topology is subcanonical.
\end{lemma}

\begin{proof}
We will prove later the stronger result that the fppf topology is subcanonical.
\end{proof}

Next proposition is based on \cref{main-result-sheaves}, which has not be proven in details yet.

\begin{proposition}
The Zariski topos satisfy the following:
\begin{itemize}
\item For all c.p. boolean ring $C$, the map:
\[C\to 2^{\Spec(C)}\]
is an equivalence.
\item For all c.p. boolean ring $C$, the type $\Spec(C)$ has choice.
\end{itemize}
\end{proposition}

\begin{proof}
We apply \cref{main-result-sheaves}. 
\begin{itemize}
\item Any local boolean ring is $2$, so the generic ring in the Zariski topos is $2$, justifying the first item.
\item We have disjoint-local choice for affine schemes, let us check that it implies actual choice. To do this it is enough to check that disjoint-cover are equivalence, i.e. that given a fundamental system $f_1,\cdots,f_n$ of idempotent in $2$ we have that:
\[f_1=1 + \cdots + f_n=1\]
is contractible. This is straightforward.
\end{itemize}
\end{proof}


\subsection{Dependent choice from presheaves to Zariski sheaves}

\begin{lemma}\label{join-zariski-equiv-binary}
Assume given a type $X$ and $P,Q$ propositions such that $X^{P\land Q}$ is contractible. Then the map:
\[P+Q \to P\lor Q\]
induces an equivalence:
\[X^{P\lor Q} \to X^{P+Q}\]
\end{lemma}

\begin{proof}
We have a pushout square:
\begin{center}
\begin{tikzcd}
P\land Q & P\\
Q & P\lor Q\\
\end{tikzcd}
\end{center}
so we have a pullback square:
\begin{center}
\begin{tikzcd}
X^{P\lor Q} & X^P\\
X^Q & X^{P\lor Q}\\
\end{tikzcd}
\end{center}
so we see that $X^{P \lor Q} = X^P\times X^Q$ is a canonical way and we can conclude.
\end{proof}

I am not too sure about next lemma:

\begin{lemma}\label{join-zariski-equiv}
Assume given a type $X$ and $A_1,\cdots,A_n$ types such that for all $I\subset [1,n]$ with at least two elements, $X^{\prod_{i:I}A_i}$ is contractible. Then the map:
\[A_1+\cdots+A_n \to A_1\lor\cdots \lor A_n\]
induces an equivalence:
\[X^{A_1\lor\cdots\lor A_n} \to X^{A_1+\cdots+A_n}\]
\end{lemma}

\begin{proof}
Like Cech cohomology stuff, TODO
\end{proof}

\begin{lemma}\label{zariski-sum-local}
Assume given $f_1,\cdots,f_n:\mathbb{B}$ a fundamental system of idempotents and $X$ a Zariski sheaf. Then $X$ is $(f_1=1+\cdots + f_n=1)$-local.
\end{lemma}

\begin{proof}
For all $i\not=j$ we have that $f_i=1\land f_j = 1$ is equivalent to $0=1$ as $f_if_j=0$, and so is the conjunction of any two or more $f_i=1$. 

But we have that $X^{0=1}$ is contractible when $X$ is a Zariski sheaf, as $0=1$ implies any Zariski sheaf contractible.

So we can apply \cref{join-zariski-equiv} to conclude that since $X$ is $f_1=1\lor\cdots \lor f_n=1$-local it is indeed $(f_1=1+\cdots + f_n=1)$-local.
\end{proof}

\begin{remark}
Alternatively we can prove that given $f_1,\cdots,f_n:\mathbb{B}$ a fundamental system of idempotents, the map:
\[f_1=1+\cdots + f_n=1 \to f_1=1\lor\cdots\lor f_n=1\]
has Zariski contractible fibres, indeed its fibers are of the form:
\[\top + 0=1 + \cdots + 0=1\]
which is Zariski equivalent to $\top$ as $0=1$ is Zariski equivalent to $\bot$. From this we conclude that Zariski sheaves are $(f_1=1+\cdots + f_n=1)$-local
\end{remark}

\begin{lemma}\label{zariski-stable-truncation}
Assume given a Zariski sheaf $X$. Then $\propTrunc{X}$ is a Zariski sheaf.
\end{lemma}

\begin{proof}
Assume $f_1,\cdots,f_n:\mathbb{B}$ a fundamental system of idempotent such that:
\[f_1=1\lor\cdots\lor f_n=1 \to \propTrunc{X}\]
We need to prove $\propTrunc{X}$. But we have the diagram:
 \begin{center}
    \begin{tikzcd}
      f_1=1+\cdots+ f_n=1 \ar[r,dotted]\ar[d] & X\ar[d] \\
      f_1=1\lor\cdots\lor f_n=1 \ar[r] & \propTrunc{X}
    \end{tikzcd}
  \end{center}
  where the dotted arrow merely exists because $f_1=1+ \cdots + f_n=1$ has choice. But by \cref{zariski-sum-local} we have that $X$ is $(f_1=1+\cdots + f_n=1)$-local so we merely find a point in $X$.
\end{proof}

\begin{proposition}
Assume the presheaf topos satisfies dependent choice. Then the Zariski sheaf model satisfies dependent choice.
\end{proposition}

\begin{proof}
A map between Zariski sheaf being surjective in the Zariski and presheaf model means the same thing by \cref{zariski-stable-truncation}.
\end{proof}

