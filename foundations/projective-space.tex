
\subsection{Construction of projective spaces}
We give two definitions of projective space, which differ only in size.

\begin{definition}%
  \begin{enumerate}[(a)]
  \item An $n$-dimensional $R$-\notion{vector space} is an $R$-module $V$,
    such that $\propTrunc{ V = R^n }$. 
  \item We write $\Vect{R}{n}$ for the type of these vector spaces and $V\setminus\{0\}$ for the type
    \[ \sum_{x:V}x\neq 0\]
  \item A \notion{vector bundle} on a type $X$ is a map $V:X\to \Vect{R}{n}$. 
  \end{enumerate}
\end{definition}

The following defines projective space as the space of lines in a vector space.
This is a large type.
We will see below, that there is also a small definition of the same type.

\begin{definition}%
  \begin{enumerate}[(a)]
  \item   A \notion{line} in a $R$-vector space $V$ is a subtype $L:V\to \Prop$,
    such that there exists an $x:V\setminus\{0\}$ with
    \[ \prod_{y:V}\left(L (y) \Leftrightarrow \exists c:R.y=c\cdot x\right)\]
  \item The space of all lines in a fixed $n$-dimensional vector space $V$ is the \notion{projectivization} of $V$:
    \[ \bP(V)\colonequiv \sum_{L:V\to \Prop} L \text{ is a line}  \]
  \item \notion{Projective $n$-space} $\bP^n \colonequiv \bP(\A^{n+1})$ is the projectivization of $\A^{n+1}$.
  \end{enumerate}
\end{definition}

\begin{proposition}%
  \label{lines-are-one-dimensional}
  For any vector space $V$ and line $L\subseteq V$,
  $L$ is 1-dimensional in the sense that $\propTrunc{L=_{\Mod{R}}R}$.
\end{proposition}

\begin{proof}
  Let $L$ be a line.
  We merely have $x:V\setminus\{0\}$ such that 
  \[ \prod_{y:V}\left(L (y) \Leftrightarrow \exists c:R.y=c\cdot x\right)\]
  We may replace the ``$\exists$'' with a ``$\sum$'',
  since $c$ is uniquely determined for any $x,y$.
  This means we can construct the map $\alpha\mapsto \alpha\cdot x:R\to L$ and it is an equivalence.
\end{proof}

Lines are closed subschemes (at least in $\A^2$):

\begin{proposition}%
  For any line $L : \A^{2}\to \Prop$, there merely is a degree one polynomial $P\in R[X_0,X_1]$ such that
  for all $x:\A^{2}$, $L(x)$ is equivalent to $P(x)=0$.
\end{proposition}

\begin{proof}
  For $x\equiv(a,b)$ a point on $L$,
  let $P$ be the polynomial, given by inner product with $(b,-a)$. 
\end{proof}

We now give the small construction:

\begin{definition}[using \axiomref{loc}, \axiomref{sqc}]%
  \label{projective-space-hit}
  Let $n:\N$.
  \notion{Projective $n$-space}\index{$\bP^n$} $\bP^n$ is the setquotient of the type $\A^{n+1}\setminus\{0\}$ by the relation
  \[
    x \sim y \colonequiv \sum_{\lambda : R} \lambda x=y\rlap{.}
  \]
  By \cref{generalized-field-property}, the non-zero vector $y$ has an invertible entry,
  so that the right hand side is a proposition and $\lambda$ is a unit.
  We write $[x_0:\dots:x_n]:\bP^n$ for the equivalence class of $(x_0,\dots,x_n):\A^{n+1}\setminus\{0\}$.
\end{definition}

\begin{theorem}[using \axiomref{sqc}, \axiomref{loc}]
  $\bP^n$ is a scheme.
\end{theorem}

\begin{proof}
  \dots
\end{proof}

\subsection{Functions on $\bP^n$}

\begin{example}[using \axiomref{loc}]
  Let $s:\bP^1\to \bP^1$ be given by $s([x:y])\colonequiv [x^2:y^2]$
  (see \cref{projective-space-hit} for notation).
  Let us compute some fibers of $s$. The fiber $\fib_s([0:1])$ is
  by definition the type
  \[
    \sum_{[x:y]:\bP^1}[x^2:y^2]=[0:1]\rlap{.}
  \]
  So for any $x:R$ with $x^2=0$, $[x:1]:\fib_s([0:1])$  and
  any other point $(x,y)$ such that $[x:y]$ is in $\fib_s([0:1])$,
  already yields an equivalent point, since $y$ has to be invertible.

  This shows that the fiber over $[0:1]$ is a first order disk, i.e. $\D(1)=\{x:R|x^2=0\}$.
  The same applies to the point $[1:0]$.
  To analyze $\fib_s([1:1])$, let us assume $2\neq 0$ (in $R$).
  Then we know, the two points $[1:-1]$ and $[1:1]$ are in $\fib_s([1:1])$ and they are different.
  It will turn out, that any point in $\fib_s([1:1])$ is equal to one of those two.
  For any $[x':y']:\fib_s([1:1])$, we can assume $[x':y']=[x:1]$ and $x^2=1$, or equivalently $(x-1)(x+1)=0$.
  By \cref{projective-space-separated}, $\bP^1$ is separated and by \cref{separated-inequality-apartness}
  this means that inequality is an apartness relation.
  So for each $x:R$, we know $x-1$ is invertible or $x+1$ is invertible.
  But this means that for any $x:R$ with $(x-1)(x+1)=0$, that $x=1$ or $x=-1$.

  While the fibers are not the same in general,
  they are all affine and have the same size in the sense that for each $\Spec A_x\colonequiv \fib_s(x)$,
  we have that $A_x$ is free of rank 2 as an $R$-module.
  To see this, let us first note,
  that $\fib_s([x:y])$ is completely contained in an affine subset of $\bP^1$.
  This is a proposition, so we can use that either $x$ or $y$ is invertible.
  Let us assume without loss of generality, that $y$ is invertible,
  then
  \[
    \fib_s([x:y])=\fib_s([\frac{x}{y}:1])
    \rlap{.}
  \]
  The second component of each element in the fiber has to be invertible,
  so it is contained in an affine subset, which we identify with $\A^1$.
  Let us rewrite with $z\colonequiv \frac{x}{y}$.
  Then
  \[
    \fib_s([z:1])=\sum_{a:\A^1}(a^2=z)=\Spec R[X]/(X^2-z)
  \]
  and $R[X]/(X^2-z)$ is free of rank 2 as an $R$-module.
\end{example}

\begin{lemma}
  All functions $\bP^1 \to R$ are constant.
\end{lemma}

\begin{proof}
  \dots
\end{proof}

\begin{lemma}[using \axiomref{sqc}, \axiomref{loc}]
  Let $p \neq q \in \bP^n$ be given.
  Then there exists a map $f : \bP^1 \to \bP^n$
  such that $f([0 : 1]) = p$, $f([1 : 0]) = q$.
\end{lemma}

\begin{proof}
  What we want to prove is a proposition,
  so we can assume chosen $a, b \in \A^{n+1} \setminus \{0\}$
  with $p = [a]$, $q = [b]$.
  Then we set
  \[ f([x, y]) \colonequiv [xa + yb] \rlap{.}\]
  Let us check that $xa + yb \neq 0$.
  By \dots,
  we have that $x$ or $y$ is invertible
  and both $a$ and $b$ have at least one invertible entry.
  If $xa = - yb$
  then it follows that $x$ and $y$ are both invertible
  and therefore $a$ and $b$ would be linearly equivalent,
  contradicting the assumption $p \neq q$.
  Of course $f$ is also well-defined
  with respect to linear equivalence in the pair $(x, y)$.
\end{proof}

\begin{lemma}
  Let $n \geq 1$.
  For every point $p \in \bP^n$,
  we have $p \neq [1 : 0 : 0 : \dots]$
  or $p \neq [0 : 1 : 0 : \dots]$.
\end{lemma}

\begin{proof}
  Let $p = [a]$ with $a \in \A^{n+1} \setminus \{0\}$.
  By \dots,
  there is an $i \in \{0, \dots, n\}$ with $a_i \neq 0$.
  If $i = 0$ then $p \neq [0 : 1 : 0 : \dots]$,
  if $i \geq 1$ then $p \neq [1 : 0 : 0 : \dots]$.
\end{proof}

\begin{theorem}
  All functions $\bP^n \to R$ are constant,
  that is,
  \[ H^0(\bP^n, R) \colonequiv (\bP^n \to R) = R \rlap{.} \]
\end{theorem}

\begin{proof}
  \dots
\end{proof}


\subsection{Intersection theory}

\begin{example}[using \axiomref{loc}, \axiomref{sqc}]
  It is not the case that
  for any pair of lines $L, L' \subseteq \bP^2$,
  the $R$-algebra $R^{L \cap L'}$ is free of rank $1$.
\end{example}

\begin{proof}
  The $R$-algebra $R^{L \cap L'}$ is free of rank $1$
  if and only if the structure homomorphism
  $\varphi : R \to R^{L \cap L'}$ is bijective.
  We will show that it is not even always injective.

  Consider the lines
  \[ L = \{\, [x : y : z] : \bP^2 \mid z = 0 \,\} \]
  and
  \[ L' = \{\, [x : y : z] : \bP^2 \mid \varepsilon x + \delta y + z = 0 \,\}
     \rlap{,} \]
  where $\varepsilon$ and $\delta$ are elements of $R$
  with $\varepsilon^2 = \delta^2 = 0$.
  Consider the element $\varphi(\epsilon \delta) : R^{L \cap L'}$,
  which is the constant function $L \cap L' \to R$
  with value $\varepsilon \delta$.
  For any point $[x : y : z] : L \cap L'$,
  we have $z = 0$ and $\varepsilon x + \delta y = 0$.
  But also, by definition of $\bP^3$,
  we have $(x, y, z) \neq 0 : R^3$,
  so one of $x, y$ must be invertible.
  This implies $\delta \divides \varepsilon$ or $\varepsilon \divides \delta$,
  and in both cases we can conclude $\varepsilon \delta = 0$.
  Thus, $\varphi(\epsilon \delta) = 0 : R^{L \cap L'}$.

  If $\varphi$ was always injective
  then this would imply $\varepsilon \delta = 0$
  for any $\varepsilon, \delta : R$
  with $\varepsilon^2 = \delta^2 = 0$.
  In other words, the inclusion
  \[ \Spec R[X, Y]/(X^2, Y^2, XY) \hookrightarrow \Spec R[X, Y]/(X^2, Y^2) \]
  would be a bijection.
  But the corresponding $R$-algebra homomorphism is not an isomorphism.
\end{proof}
