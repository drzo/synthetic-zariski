This is an unfinished justification of the axioms of SAG,
using Kripke-Joyal Semantics. This was once a part of \cite{draft}.

\subsection{Justification of \axiomref{Z-choice}}

\begin{lemma}
  Let $(C, J)$ be a site,
  where the Grothendieck topology $J$ is subcanonical.
  Let
  \[ f : E \twoheadrightarrow \yo(c) \]
  be an epimorphism in $\Sh(C, J)$ with representable codomain.
  Then there is a $J$-cover $(c_i \to c)_{i \in I}$ of $c$
  such that for every $i$,
  the pullback of $f$ along $\yo(c_i) \to \yo(c)$
  is a split epimorphism.
  \[ \begin{tikzcd}
    E_i \ar[r] \ar[d, two heads, "f_i"] \ar[dr, phantom, very near start, "\lrcorner"] &
    E \ar[d, two heads, "f"] \\
    \yo(c_i) \ar[r] \ar[u, bend left, dashed]&
    \yo(c)
  \end{tikzcd} \]
\end{lemma}

\begin{proof}
  By the Yoneda lemma,
  an epimorphism $E \twoheadrightarrow \yo(c)$ is split
  if and only if
  the particular element $\id_c \in \yo(c)(c)$
  is in the image of the map $E(c) \to \yo(c)(c)$.
  Applying the usual characterization of epimorphisms of sheaves
  \cite[Corollary III.7.5]{maclane-moerdijk}
  to the element $\id_c \in \yo(c)(c)$
  shows that there is a $J$-cover ${(c_i \xrightarrow{g_i} c)}_{i \in I}$
  such that for every $i \in I$,
  there is some $e_i \in E(c_i)$
  with $f_{c_i}(e_i) = g_i \in \yo(c)(c_i)$.
  But this means that $\id_{c_i}$ is in the image of ${(f_i)}_{c_i} : E_i(c_i) \to \yo(c_i)(c_i)$,
  as we can see by evaluating the pullback diagram at $c_i$.
  So $f_i$ is a split epimorphism.
\end{proof}

Let us formulate a version of the axiom \axiomref{Z-choice}
in infinitary first-order logic extended with
unbounded quantification over objects/sorts
($\exists A. \varphi$, $\forall A. \varphi$)
and quantification over functions
($\exists f : A \to B. \varphi$, $\forall f : A \to B. \varphi$)
as in Shulmans stack semantics \cite[Section 7]{shulman-stack-semantics}.

We also use the syntax $\{x : A \mid \varphi(x)\}$
for bounded set comprehension,
but this can be translated away.
TODO

\begin{align*}
  \varphi_0 &\colonequiv
  \bigwedge_{n, m \in \N} \forall r_1, \dots, r_m : R[X_1, \dots, X_n].\; \varphi_1 \\
  \Spec A &\colonequiv
  \{ x : R^n \mid \mathrm{ev}(r_1, x) = \dots = \mathrm{ev}(r_1, x) = 0 \} \\
  \varphi_1 &\colonequiv
  \forall E.\; \forall \pi : E \to \Spec A.\;
  ((\forall x : \Spec A.\; \exists e : E.\; \pi(e) = x) \Rightarrow \varphi_2) \\
  \varphi_2 &\colonequiv
  \bigvee_{k \in \N} \exists f_1, \dots, f_k : R[X_1, \dots, X_n].\;
  f_1 + \dots + f_k = 1 \land \varphi_3 \\
  D(f_i) &\colonequiv \{ x : \Spec A \mid \exists y.\; \mathrm{ev}(f_i, x)y = 1 \} \\
  \varphi_3 &\colonequiv
  \bigwedge_{i = 1}^k \exists s : D(f_i) \to E.\; \forall x : D(f_i).\; \pi(s(x)) = x
\end{align*}
